ToDoアプリ 仕様書・設計書

1. システム概要
- アプリケーション名: ToDoアプリ
- 目的・概要: ToDo（タスク）を登録・更新・削除し、一覧表示できる最小構成のWebアプリ。登録は確認画面を挟み、完了画面で結果を提示する。
- 使用技術:
  - 言語: Java
  - フレームワーク: Spring Boot
  - データベース: H2（インメモリ）
  - テンプレート: Thymeleaf

2. 画面一覧
- 画面名 | URL | 概要
- 一覧画面 | /todos | ToDo一覧をテーブル表示。検索/ソート、新規登録、編集、削除。
- 登録画面 | /todos/new | ToDoの登録/編集入力。確認へ進む/一覧へ戻る。
- 確認画面 | /todos/confirm | 入力内容の確認。登録実行/修正で戻る。
- 完了画面 | /todos/complete | 登録完了表示。一覧へ戻る。

3. 画面遷移図（テキスト）
[一覧] --新規登録--> [登録] --確認--> [確認] --登録--> [完了] --一覧へ--> [一覧]
[登録] --戻る--> [一覧]
[確認] --修正--> [登録]
[一覧] --編集--> [登録]
[一覧] --削除--> [一覧]

4. データベース設計
- テーブル: todo
  - id (INT) PK, auto_increment
  - author (VARCHAR(50)) NOT NULL
  - title (VARCHAR(100)) NOT NULL
  - detail (VARCHAR(500)) NULL
  - completed (BOOLEAN) NOT NULL DEFAULT FALSE
  - created_at (TIMESTAMP) NOT NULL DEFAULT CURRENT_TIMESTAMP
  - updated_at (TIMESTAMP) NOT NULL DEFAULT CURRENT_TIMESTAMP

5. 機能一覧
- 一覧画面
  - ToDoをテーブル表示（Noは画面上で連番）
  - 表示項目: タイトル/作成者/状態/作成日/更新日
  - 検索（タイトル・作成者の部分一致）
  - ソート（作成日/更新日/タイトル/作成者/状態）
  - データなしの場合「データはありません」表示
  - 新規登録ボタンで登録画面へ
  - 編集リンクで登録画面へ
  - 削除ボタンで削除（確認ダイアログ）
- 登録画面
  - 作成者（必須）、タイトル（必須）、詳細（任意）、状態（完了チェック）
  - バリデーション（必須チェック、文字数上限）
  - 確認ボタンで確認画面へ
  - 戻るボタンで一覧画面へ
- 確認画面
  - 作成者/タイトル/詳細/状態の表示
  - メッセージ「上記で登録して良いですか？」
  - 登録ボタンでDB保存し完了画面へ
  - 修正ボタンで登録画面へ戻り入力保持
- 完了画面
  - 作成者/タイトル/詳細/状態の表示
  - メッセージ「上記で登録しました。」
  - 一覧リンクで一覧画面へ
  - 二重登録防止: PRGパターン（POST→Redirect→GET）を使用
